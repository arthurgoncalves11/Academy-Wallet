# Academy Wallet

## Backend

### üìå Sobre

Este documento cont√©m as instru√ß√µes para configurar e executar o backend do projeto **Academy Wallet**.

### üõ† Pr√©-requisitos

Antes de iniciar, certifique-se de ter os seguintes requisitos instalados:

- [Docker](https://www.docker.com/)
  - Instalar o Docker
  - Reiniciar o computador ap√≥s a instala√ß√£o (ser√° solicitado ap√≥s a instala√ß√£o)
  - Criar uma conta ou fazer login
  - Deixar o docker aberto

### üöÄ Passos para rodar o backend

#### 1Ô∏è‚É£ Clonar o reposit√≥rio

- Criar uma nova pasta
- Abrir o terminal na pasta rec√©m criada
- Clonar o reopsit√≥rio:

```sh
git clone https://premiersoftbr@dev.azure.com/premiersoftbr/Premiersoft.Academy2025/_git/academy-wallet
```

Ir para a pasta do backend:

```sh
cd academy-wallet/backend
```

#### 2Ô∏è‚É£ Atualizar o c√≥digo

Achar as altera√ß√µes:

```sh
git fetch
```

Pegar as altera√ß√µes:

```sh
git pull origin master
```

#### 3Ô∏è‚É£ Pegar arquivo .env com ADMs

Dentro da pasta do backend, crie um arquivo com nome `.env` e cole o .env pego.

#### 4Ô∏è‚É£ Iniciar o Docker

###### Certifique-se de que o Docker est√° instalado e em execu√ß√£o.

Execute o seguinte comando para subir os containers:

```sh
docker compose up
```

Ap√≥s iniciar o backend, abra o navegador e acesse `${process.env.API_URL}/api` para testar a API pelo Swagger.

#### 5Ô∏è‚É£ Popular o banco de dados

Para n√£o parar a execu√ß√£o do nest, abra outro terminal na pasta do backend.

A tabela market-shares ser√° fixa e populada apenas uma vez, o seguinte comando far√° o insert no banco das informa√ß√µes das a√ß√µes:

```sh
pnpm run seed
```

### ‚ùå Troubleshooting (Solu√ß√£o de problemas)

#### ‚ö†Ô∏è **Se houver cache no Docker, resetar o banco de dados**

1. **Listar os containers em execu√ß√£o:**
   ```sh
   docker ps
   ```
2. **Obter o ID do container do banco de dados e parar o container:**
   ```sh
   docker stop <ID_DO_CONTAINER>
   ```
3. **Remover o container do banco de dados:**
   ```sh
   docker remove <ID_DO_CONTAINER>
   ```
4. **Listar os volumes do Docker:**
   ```sh
   docker volume ls
   ```
5. **Identificar o volume relacionado ao banco de dados (`backend_postgres_data`) e remov√™-lo:**
   ```sh
   docker volume rm <NOME_DO_VOLUME>
   ```

Ap√≥s isso, reinicie os servi√ßos do backend e o Docker:

```sh
docker compose up -d
```

Caso os problemas persistam, verifique os logs do Docker com:

```sh
docker logs <ID_DO_CONTAINER>
```

## Frontend

_(Ainda n√£o h√° conte√∫do nesta se√ß√£o.)_
